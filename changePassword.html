<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>register</title>
	<link rel="stylesheet" href="./css/change.css">
</head>
<body>
	<div class="container" id="container">
		<h2>修改密码</h2>
		<form action="" id="changePassword" class="items">
			<label for="phonenumber">个人账户:</label>
			<input id="phonenumber" type="text" name="phoneNumber" palceholder="手机号码"><br>
			<label for="password">旧的密码:</label>
			<input id="password" type="password" name="oldPassword"><br>
			<label for="newpassword">新的密码:</label>
			<input id="newpassword" type="password" name="newPassword"><br>
			<label for="confirmpass">验证密码:</label>
			<input id="confirmpass" type="password" name="confirmpass"><br>
			<input id="change" class="submit" type="button" value="确认修改">
		</form>
	</div>
</body>
<script src="./js/common.js"></script>
<script src="./js/jquery-3.1.1.js"></script>
<script>
function callback(res) {
	if(res == 0) {
		alert("原始密码错误");
	}else if(res == 1) {
		alert("成功");
	}else {
		alert("两次密码不匹配");
	}
}

$('#change').on('click', function() {
	console.log(1)
	var phonenumber = $('#phonenumber').val();
	var password = $('#password').val();
	var newpassword = $('#newpassword').val();
	var confirmpass = $('#confirmpass').val();

	$.ajax({
		url: api + "/User/changePassword",
		type: 'GET',
		dataType: 'jsonp',
		data: {
			phonenumber: phonenumber,
			password: password,
			newpassword: newpassword,
			confirmpass: confirmpass
		},
		success: function(res, callback) {
			console.log(res);
		}
	})
})
</script>
</html>